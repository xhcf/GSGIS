<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="ie lt-ie9 lt-ie8 lt-ie7 ie6"> <![endif]-->
<!--[if IE 7]>         <html class="ie lt-ie9 lt-ie8 ie7"> <![endif]-->
<!--[if IE 8]>         <html class="ie lt-ie9 ie8"> <![endif]-->
<!--[if gt IE 8]><!--> <html> <!--<![endif]-->
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <meta name="content-language" content="en">
  <meta name="product" content="js-api-arcgis">
  <meta name="subject" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE">
  <meta name="sub_category" content="JavaScript API">
  <meta name="search-collection" content="help">
  <meta name="search-category" content="help-api,help-api-guide">
  <meta name="version" content="arcgis-3.14"> <!-- API version -->
  <meta name="content_type" content="Help Topic"> <!-- options: Help Topic, API Reference, Sample OR Tutorial -->
  <meta name="last-modified" content="2015-07-15"> <!-- put in date docs were generated -->

  <link rel="stylesheet" href="../styles/screen.css">
  <link rel="stylesheet" href="../styles/jsdoc.css">
  <link rel="stylesheet" href="../styles/homepage.css">
  <link rel="stylesheet" href="../styles/grid.css">
  <link rel="stylesheet" href="../styles/tree.css">
  <link rel="stylesheet" href="../prettify/prettify.css">
  <link rel="stylesheet" href="../styles/tailcoat-search.css">
  <link rel="stylesheet" href="//fast.fonts.com/cssapi/23855eec-5fdf-4594-9898-0113a04bfef0.css">
  <link rel="shortcut icon" href="../graphics/favicon.ico">

  <style>
    html {
      overflow-y: auto;
    }
    pre {
      font-size: 1.1em;
      line-height: normal;
      margin: 0;
    }
    #header nav li a {
      font-size: .875em;
    }
    #esri-logo {
      margin-left: 0;
    }
    h1.light {
      color: #fff;
    }
    .navigation-bar {
      background-image: url("../graphics/tailcoat/navigation-bar-background.jpg");
    }
  </style>
  <!--[if lt IE 9]>
    <script src="../scripts/libs/html5shiv.js"></script>
    <script src="../scripts/libs/selectivizr-min.js"></script>
    <style>
      #wrapper {
        min-width: 960px;
      }
    </style>
  <![endif]-->
  <title>
    Working with Analysis Widgets | Guide | ArcGIS API for JavaScript 
  </title>
</head>
  
<body>
    <div class="drawer">
      <!-- Mobile Nav Drawer -->
<nav class="drawer-nav drawer-left"> <!-- drawer-right will put the drawer on the right side. -->
  <div class="drawer-header">
    <h4 class="site-title"><a href="/">Arc<span>GIS</span> for Developers</a></h4>
  </div>
  <ul>
    <li><a class="icon-compass drawer-link" href="/features/">Features</a></li>
    <li><a class="icon-gauge drawer-link" href="/plans/">Plans</a></li>
    <li><a class="icon-book drawer-link" href="/documentation/">Documentation</a></li>
    <li><a class="icon-support drawer-link" href="/community/">Community</a></li>
  </ul>
</nav>

      <!-- Mobile Nav Drawer -->
<nav class="drawer-nav drawer-right"> <!-- drawer-right will put the drawer on the right side. -->
  <div class="drawer-header">
    <h4 class="site-title user-name">Your Name</h4>
  </div>
  <ul>
    <li>
      <a class="drawer-link icon-grid-alt" href="/applications/">Applications</a>
    </li>
    <li>
      <a class="drawer-link icon-data-alt" href="/hosted-data/">Hosted Data</a>
    </li>
    <li>
      <a class="drawer-link icon-graph-bar" href="/usage-summary/">Usage Summary</a>
    </li>
    <li>
      <a class="drawer-link icon-storage" href="/downloads/">Downloads</a>
    </li>
    <li>
      <a class="drawer-link icon-comment" href="/feedback/">Feedback</a>
    </li>
    <li>
      <a class="drawer-link icon-user" href="/account/profile/">Account Settings</a>
    </li>
    <li>
      <a class="drawer-link icon-exit log-out-link" href="#">Sign Out</a>
    </li>
  </ul>
</nav>
    </div>
    <div class="wrapper">
      <div>
        <header class="header">
  <div class="container">
    <div class="row">
      <div class="column-24">
        <div class="site-brand">
          <a class="drawer-toggle toggle-site-navigation icon-navigation tablet-show" data-direction="active-left" href="#"></a>
          <a href="/" class="site-logo">Arc<span>GIS</span> for Developers</a>
          <span class="site-dropdown-toggle tablet-hide"></span>
          <nav class="site-dropdown tablet-hide">
            <a href="http://www.arcgis.com">
              <h4>ArcGIS Online</h4>
              <p>The mapping platform for your organizations</p>
            </a>
            <a href="http://desktop.arcgis.com/">
              <h4>ArcGIS for Desktop</h4>
              <p>A complete professional GIS</p>
            </a>
            <a href="http://server.arcgis.com/">
              <h4>ArcGIS for Server</h4>
              <p>GIS in your enterprise</p>
            </a>
            <a href="https://developers.arcgis.com/" class="current selected">
              <h4>ArcGIS for Developers</h4>
              <p>Tools to build location-aware apps</p>
            </a>
            <a href="http://solutions.arcgis.com/">
              <h4>ArcGIS Solutions</h4>
              <p>Free template maps and apps for your industry</p>
            </a>
            <a href="https://marketplace.arcgis.com/">
              <h4>ArcGIS Marketplace</h4>
              <p>Apps and data for your organization</p>
            </a>
          </nav>
        </div>

        <nav class="site-nav tablet-hide">
          <ul>
            <li><a href="/features/">Features</a></li>
            <li><a class="hide-if-logged-in" href="/plans/">Plans</a></li>
            <li><a href="/documentation/">Documentation</a></li>
            <li><a href="/community/">Community</a></li>
          </ul>
        </nav>

        <div class="site-search right">
          <form class="site-search-form" method="GET" action="/search">
            <span class="site-search-toggle icon-search"></span>
            <input class="left site-search-input" type="search" name="q" placeholder="Search">
            
            <button type="submit" class="btn transparent site-search-button">Go</button>

            <input type="hidden" name="start" value="0">
            <input type="hidden" name="product" value="js-api-arcgis">
          </form>
        </div>


        <!--nav id="logged-out-navigation" class="site-nav right hide-if-logged-in">
          <ul>
            <li>
              <a id="login-link" class="icon-user" href="/sign-in/">Sign In</a>
            </li>
          </ul>
        </nav>

<div id="logged-in-navigation" class="right hide-if-logged-out">
  <ul id="logged-in-icons" class="left plain inline compact">

    <li>
      <div class="tooltip">
        <a href="/applications/" class="">
          <span class="icon-grid-alt"></span>
          <span class="visually-hidden">Applications</span>
        </a>
        <div class="tooltip-wrapper">
          <p class="tooltip-content">Applications</p>
        </div>
      </div>
    </li>

    <li>
      <div class="tooltip">
        <a href="/hosted-data/" class="">
          <span class="icon-data-alt"></span>
          <span class="visually-hidden">Hosted Data</span>
        </a>
        <div class="tooltip-wrapper">
          <p class="tooltip-content">Hosted Data</p>
        </div>
      </div>
    </li>

    <li class="icon-graph-bar hide-unless-admin">
      <div class="tooltip">
        <a href="/usage-summary/" class="">
          <span class="icon-graph-bar"></span>
          <span class="visually-hidden">Usage Summary</span>
        </a>
        <div class="tooltip-wrapper">
          <p class="tooltip-content">Usage Summary</p>
        </div>
      </div>
    </li>

    <li class="icon-storage">
      <div class="tooltip">
        <a href="/downloads/" class="">
          <span class="icon-storage"></span>
          <span class="visually-hidden">Downloads</span>
        </a>
        <div class="tooltip-wrapper">
          <p class="tooltip-content">Downloads</p>
        </div>
      </div>
    </li>
  </ul>

  <div id="user-dropdown" class="dropdown-navigation dropdown-wrapper right-align right tablet-hide">
    <a href="/applications/" class="dropdown left">
      <img width="18" height="18" data-user-avatar="18" class="profile-image"><span data-first-name></span>
    </a>
    <div class="dropdown-content">
      <div class="dropdown-menu">
        <a href="" data-profile-link class="profile-link">
          <div class="profile-header">
            <img width="36" height="36" data-user-avatar="32" class="profile-header-image">
            <span class="full-name" data-full-name></span>
            <h6 class="username" data-username></h6>
          </div>
        </a>
        <hr>
        <ul>
          <li><a class="hide account-settings-nav-item" href="/account/profile/">Account Settings</a></li>
          <li><a href="/feedback/">Feedback</a></li>
        </ul>
        <hr>
        <ul>
          <li><a class="log-out-link" href="#">Sign Out</a></li>
        </ul>
      </div>
    </div>
  </div-->

  <!-- Mobile User Menu Button -->
  <!--a class="mobile-user-dropdown drawer-toggle toggle-site-navigation tablet-show right" data-direction="active-right" href="#">
    <img>
  </a>
</div-->

      </div>
    </div>
  </div>
</header>

          
  <div class="navigation-bar ">
  
    <div class="container">
      <header>
        <h1 class="light"><a href="..">ArcGIS API for JavaScript</a></h1>
      </header>
       <nav class="navigation-bar-nav">
        <ul>
            <li class=""><a href="../">Home</a></li>
            <li class="current"><a href=".">Guide</a></li>
            <li class=""><a href="../jsapi/">API Reference</a></li>
            <li class=""><a href="../jssamples/">Sample Code</a></li>
        </ul>
      </nav>
    </div>
  </div> <!-- sub 2: header and navigation -->

<div class="container_12">
  <div class="grid_3 contentWrapper">
    <div id="toggleToc">
      <img src="../graphics/tochide.gif"> Hide Table of Contents
    </div>
    <div id="apiToc"><div class="treeDiv" id="tree" style="top: 35px; left: 0px;">
  <div id="treeRoot" ondragstart="return false" onselectstart="return false">
    <div class="treeNode">
      <a class="treeUnselected" href="." onclick="clickAnchor(this)">Overview</a>
    </div>
    <div class="treeNode">
      <a class="treeUnselected" href="whats_new.html" onclick="clickAnchor(this)">What's New in Version 3.14</a>
    </div>
    <!-- Tutorial-->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" />
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">Tutorials</span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="intro_firstmap_amd.html" onclick="clickAnchor(this)">Build your first application</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_agstemplate_amd.html" onclick="clickAnchor(this)">Use an ArcGIS.com webmap</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_dev.html" onclick="clickAnchor(this)">Mobile-specific application</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_directions.html" onclick="clickAnchor(this)">Directions widget</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="tutorial_search.html" onclick="clickAnchor(this)">Search widget</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="tutorial_label_layer.html" onclick="clickAnchor(this)">Labeling features client-side</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_javascript_classes.html" onclick="clickAnchor(this)">Write a class</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_custom_dijit.html" onclick="clickAnchor(this)">Create a re-usable widget</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="tutorial_sharing_maps_secure_layers.html" onclick="clickAnchor(this)">Share maps with secure layers</a>
        </div>
      </div>
    </div>
    <!--End Tutorial-->
    <!-- About the API-->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" />
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">About the API</span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="intro_gettingstarted.html" onclick="clickAnchor(this)">Get Started</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_accessapi.html" onclick="clickAnchor(this)">Get the API</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="localization.html" onclick="clickAnchor(this)">Localization</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="css.html" onclick="clickAnchor(this)">Required CSS</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="supported_browsers.html" onclick="clickAnchor(this)">Supported Browsers</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="community.html" onclick="clickAnchor(this)">Community</a>
        </div>
        <!--Working with Dojo-->
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Dojo
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojo.html" onclick="clickAnchor(this)">Work with Dojo</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojoversion.html" onclick="clickAnchor(this)">Get Dojo</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojodijits.html" onclick="clickAnchor(this)">Dijits</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojo_amd.html" onclick="clickAnchor(this)">Dojo and AMD</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojoLayouts.html" onclick="clickAnchor(this)">Dojo Layouts</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojohelp.html" onclick="clickAnchor(this)">Additional resources</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="why_dojo.html" onclick="clickAnchor(this)">Why Dojo?</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--End About the API-->
    <!--Inside the API-->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        Work with the API
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="inside_defaults.html" onclick="clickAnchor(this)">Default API configurations</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_bundle.html" onclick="clickAnchor(this)">Default API strings</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_esri_request.html" onclick="clickAnchor(this)">Retrieve data from a web server</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_navigation.html" onclick="clickAnchor(this)">Map navigation</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_events.html" onclick="clickAnchor(this)">Events</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_extents.html" onclick="clickAnchor(this)">Set Extents</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_editing.html" onclick="clickAnchor(this)">Editing</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_temporal.html" onclick="clickAnchor(this)">Time aware data</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_firsttask.html" onclick="clickAnchor(this)">Adding a task</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_querytask.html" onclick="clickAnchor(this)">Using QueryTask</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_custom_layers.html" onclick="clickAnchor(this)">Creating custom layer types</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_webmap.html" onclick="clickAnchor(this)">Web maps</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_analysiswidgets.html" onclick="clickAnchor(this)">Working with Analysis Widgets</a>
        </div>
        <div class="treeNode">
        <a class="treeUnselected" href="intro_search_widget.html" onclick="clickAnchor(this)">Working with the Search Widget</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_directions_widget.html" onclick="clickAnchor(this)">Working with the Directions Widget</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_geoenrichment.html" onclick="clickAnchor(this)">Working with GeoEnrichment Widgets</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_datareviewer.html" onclick="clickAnchor(this)">Working with DataReviewer</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_locationproviders.html" onclick="clickAnchor(this)">Location Providers (beta)</a>
        </div>
        <!-- graphics -->
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif" />
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">Graphics and feature layers</span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="inside_graphics.html" onclick="clickAnchor(this)">Graphics overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_feature_layers.html" onclick="clickAnchor(this)">Feature layer overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_renderers.html" onclick="clickAnchor(this)">Symbols and renderers</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_bettermaps.html" onclick="clickAnchor(this)">Better vector mapping</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_styling_svg.html" onclick="clickAnchor(this)">Styling features with CSS</a>
            </div>
          </div>
        </div>
        <!--info window-->
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Popups and Info Windows
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="intro_infowindow.html" onclick="clickAnchor(this)">Info windows and graphics</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_formatinfowindow.html" onclick="clickAnchor(this)">Format info window content</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_customize.html" onclick="clickAnchor(this)">Customize info windows</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_agspopup.html" onclick="clickAnchor(this)">Popup overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_popuptemplate.html" onclick="clickAnchor(this)">Format popup content</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_customizepopup.html" onclick="clickAnchor(this)">Customize popup</a>
            </div>
          </div>
        </div>
        <!--geoprocessing book-->
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Geoprocessor
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_overview.html" onclick="clickAnchor(this)">Geoprocessing overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_creating.html" onclick="clickAnchor(this)">Creating the geoprocessor</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_parameters.html" onclick="clickAnchor(this)">Geoprocessor parameters</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_running.html" onclick="clickAnchor(this)">Geoprocessing results</a>
            </div>
          </div>
        </div>
        <!--opsdashboard book-->
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Operations Dashboard
          </span>
          <div class="treeSubnodesHiddenNOT">
            <div class="treeNode">
              <a class="treeUnselected" href="operations-dashboard-extensibility-overview.html" onclick="clickAnchor(this)">Overview</a>
            </div>
          </div>
          <div class="treeNode">
            <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
            <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
              Get started
            </span>
            <div class="treeSubnodesHidden">            
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-getstarted-setup-dev-env.html" onclick="clickAnchor(this)">Set up a development environment</a>
              </div>
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-getstarted-samples.html" onclick="clickAnchor(this)">Samples</a>
              </div>
            </div>
          </div>
          <div class="treeNode">
            <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
            <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
              Create extensions
            </span>
            <div class="treeSubnodesHidden">            
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-create-ext-overview.html" onclick="clickAnchor(this)">Overview of widgets, map tools and feature actions</a>
              </div>
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-create-ext-widget.html" onclick="clickAnchor(this)">Create a widget</a>
              </div>
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-create-ext-maptool.html" onclick="clickAnchor(this)">Create a map tool</a>
              </div>
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-create-ext-configurable.html" onclick="clickAnchor(this)">Create a configurable extension</a>
              </div>
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-create-ext-manifest.html" onclick="clickAnchor(this)">Manifest</a>
              </div>
            </div>
          </div>
          <div class="treeNode">
            <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
            <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
              Test and debug
            </span>
            <div class="treeSubnodesHidden">            
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-test-debug.html" onclick="clickAnchor(this)">Test and debug in Operations Dashboard</a>
              </div>
            </div>
          </div>
          <div class="treeNode">
            <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
            <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
              Deploy
            </span>
            <div class="treeSubnodesHidden">            
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-deploy-overview.html" onclick="clickAnchor(this)">Overview of deploying extensions</a>
              </div>
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-deploy-setup-web-server.html" onclick="clickAnchor(this)">Set up a web server</a>
              </div>
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-deploy-register-ext.html" onclick="clickAnchor(this)">Register an extension</a>
              </div>
              <div class="treeNode">
                <a class="treeUnselected" href="operations-dashboard-extensibility-deploy-update-ext.html" onclick="clickAnchor(this)">Update an extension</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--end book-->
    <!-- Mobile -->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">Mobile</span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_viewport.html" onclick="clickAnchor(this)">Viewport Settings</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_hardware.html" onclick="clickAnchor(this)">Feature Detection and Browser Sniffing</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_orientation.html" onclick="clickAnchor(this)">Device Orientation</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_geolocation.html" onclick="clickAnchor(this)">Geolocation</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_frameworks.html" onclick="clickAnchor(this)">Frameworks</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_references.html" onclick="clickAnchor(this)">References</a>
        </div>
      </div>
    </div>
    <!-- end book -->
    <!--Working with ArcGIS Server Services-->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        ArcGIS Server Services
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="ags_overview.html" onclick="clickAnchor(this)">Overview</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ags_rest.html" onclick="clickAnchor(this)">Services directory and the REST API</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ags_secureservices.html" onclick="clickAnchor(this)">Working with secure resources</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ags_proxy.html" onclick="clickAnchor(this)">Using the proxy page</a>
        </div>
      </div>
    </div>
    <!--end book-->
    <!--Recommendations-->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        References
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="inside_web_optimizer.html" onclick="clickAnchor(this)">Using the Web Optimizer</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="limits_for_graphics.html" onclick="clickAnchor(this)">Determine limits for map graphics</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="best_practices_feature_layers.html" onclick="clickAnchor(this)">Feature layer best practices</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_guidelines.html" onclick="clickAnchor(this)">Coding guidelines</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ref_coordsystems.html" onclick="clickAnchor(this)">Coordinate system IDs</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_faq.html" onclick="clickAnchor(this)">Frequently asked questions</a>
        </div>
      </div>
    </div>
    <!--end book-->
    <!--What's new -->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        What's New archive
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="migration_30.html" onclick="clickAnchor(this)">Migrating to 3.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="migration_20.html" onclick="clickAnchor(this)">Migrating to 2.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v313.html" onclick="clickAnchor(this)">What's New in Version 3.13</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v312.html" onclick="clickAnchor(this)">What's New in Version 3.12</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v311.html" onclick="clickAnchor(this)">What's New in Version 3.11</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v310.html" onclick="clickAnchor(this)">What's New in Version 3.10</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v39.html" onclick="clickAnchor(this)">What's New in Version 3.9</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v38.html" onclick="clickAnchor(this)">What's New in Version 3.8</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v37.html" onclick="clickAnchor(this)">What's New in Version 3.7</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v36.html" onclick="clickAnchor(this)">What's New in Version 3.6</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v35.html" onclick="clickAnchor(this)">What's New in Version 3.5</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v34.html" onclick="clickAnchor(this)">What's New in Version 3.4</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v33.html" onclick="clickAnchor(this)">What's New in Version 3.3</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v32.html" onclick="clickAnchor(this)">What's New in Version 3.2</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v31.html" onclick="clickAnchor(this)">What's New in Version 3.1</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v30.html" onclick="clickAnchor(this)">What's New in Version 3.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v28.html" onclick="clickAnchor(this)">What's New in Version 2.8</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v27.html" onclick="clickAnchor(this)">What's New in Version 2.7</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v26.html" onclick="clickAnchor(this)">What's New in Version 2.6</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v25.html" onclick="clickAnchor(this)">What's New in Version 2.5</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v24.html" onclick="clickAnchor(this)">What's New in Version 2.4</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v23.html" onclick="clickAnchor(this)">What's New in Version 2.3</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v22.html" onclick="clickAnchor(this)">What's New in Version 2.2</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v21.html" onclick="clickAnchor(this)">What's New in Version 2.1</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v20.html" onclick="clickAnchor(this)">What's New in Version 2.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v16.html" onclick="clickAnchor(this)">What's New in Version 1.6</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v15.html" onclick="clickAnchor(this)">What's New in Version 1.5</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v14.html" onclick="clickAnchor(this)">What's New in Version 1.4</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v13.html" onclick="clickAnchor(this)">What's New in Version 1.3</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v12.html" onclick="clickAnchor(this)">What's New in Version 1.2</a>
        </div>
      </div>
    </div>
    <!--end book-->
  </div>
</div></div> <!-- sub 3:  Conceptual help TOC -->
  </div>
  <div class="grid_9 contentWrapper">
    <div id="topicPane">		<div id="pageBanner">Working with Analysis Widgets</div>
    
		<div id="nstext">
    
	  <!--***START TEXT - DO NOT WRITE ABOVE THIS LINE***-->
      <p>The <b>Analysis Widgets</b> provide access to the <a href="https://developers.arcgis.com/rest/analysis/api-reference/getting-started.htm">ArcGIS Spatial Analysis Service</a>, which allows you to perform common spatial analyses on your hosted data, via the ArcGIS API for JavaScript. The analysis widgets feature:
        <ul>
          <li><b>Well-designed user interface</b> where users can select parameters and submit an analysis job.</li>
          <li><b>Event triggering</b> as analysis job progresses - when a job starts, ends and succeeds. Error messages are provided when a job fails. This helps you monitor an analysis tasks from your JavaScript apps.</li>
          <li><b>Result display</b> on the map. You have the option to save the output data as a hosted feature service, or return as a feature collection.</li>
        </ul>
      </p>
      <p>
        <img src="images/intro_analysiswidgets_overview.gif" style="width: 500px; height: 382px;">
      </p>
      
      <br><br>
      <h3><b>Available Widgets</b></h3>
      <p>Currently there are 22 analysis widgets available in the ArcGIS API for JavaScript, as well as in the ArcGIS REST API.</p>
      <table class="syntaxTABLE">
        <tr>
          <th>Widget<div>(Links to documentation)</div></th>
          <th>Usage</th>
          <th>Input Feature Layer Names and Types</th>
        </tr>
        <tr>
          <td>AggregatePoints <br/>
            [ <a href="../jsapi/aggregatepoints-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/aggregate-points.htm">REST API</a> ]<br/>
            (added at v3.6)</td>
          <td><div><img src="images/aggregate-points.png"></div>Aggregate points into polygons where the points are located.</td>
          <td>
            <ul>
              <li><b>pointLayer:</b> point</li>
              <li><b>polygonLayer:</b> polygon</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>CalculateDensity<div>[ <a href="../jsapi/calculatedensity-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/calculate-density.htm">REST API</a> ]</div>(added at v3.12)</td>
          <td><div><img src="images/calculate-density.png"></div>Create a density map from point or line features by spreading known quantities of some phenomenon (represented as attributes of the points or lines) across the map.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> any geometry</li>
              <li><b>boundingPolygonLayers:</b> polygon</li>
              <li><b>radiusUnits:</b> polygon</li>
              <li><b>areaUnits:</b> polygon</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>ConnectOriginsToDestinations<div>[ <a href="../jsapi/connectoriginstodestinations-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/connect-origins-to-destinations.htm">REST API</a> ]</div>(added at v3.12)</td>
          <td><div><img src="images/connect-origins-to-destinations.png"></div>Measure the travel time or distance between pairs of points.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> any geometry</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>CreateDriveTimeAreas<div>[ <a href="../jsapi/createdrivetimeareas-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/create-drivetime.htm">REST API</a> ]</div>(added at v3.7)</td>
          <td><div><img src="images/create-drivetime.png"></div>Create polygons showing the areas that can be reached within a given time or distance.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> point</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>CreateBuffers<div>[ <a href="../jsapi/createbuffers-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/create-buffers.htm">REST API</a> ]</div>(added at v3.6)</td>
          <td><div><img src="images/create-buffers.png"></div>Create buffer polygons from input features.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> any geometry</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>CreateViewshed<div>[ <a href="../jsapi/createviewshed-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/create-viewshed.htm">REST API</a> ]</div>(added at v3.12)</td>
          <td><div><img src="images/create-viewshed.png"></div>Creates areas that are visible based on locations you specify.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> any geometry</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>CreateWatersheds<div>[ <a href="../jsapi/createwatersheds-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/create-watersheds.htm">REST API</a> ]</div>(added at v3.12)</td>
          <td><div><img src="images/create-watersheds.png"></div>Creates catchment areas based on locations you specify.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> any geometry</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>DeriveNewLocations<div>[ <a href="../jsapi/derivenewlocations-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/derive-new-locations.htm">REST API</a> ]</div>(added at v3.12)</td>
          <td><div><img src="images/derive-new-locations.png"></div>Derive new features from the input layers that meet a query you specify.</td>
          <td>
            <ul>
              <li><b>inputLayers:</b> any geometry</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>DissolveBoundaries<div>[ <a href="../jsapi/dissolveboundaries-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/dissolve-boundaries.htm">REST API</a> ]</div>(added at v3.7)</td>
          <td><div><img src="images/dissolve-boundaries.png"></div>Dissolve polygons that overlap or share a common boundary.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> polygon</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>EnrichLayer<div>[ <a href="../jsapi/enrichlayer-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/enrich-layer.htm">REST API</a> ]</div>(added at v3.7)</td>
          <td><div><img src="images/enrich-layer.png"></div>Enrich input features with people, places and businesses facts about nearby areas.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> any geometry</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>ExtractData<div>[ <a href="../jsapi/extractdata-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/extract-data.htm">REST API</a> ]</div>(added at v3.7)</td>
          <td><div><img src="images/extract-data.png"></div>Extract data from layers within a given extent.</td>
          <td>
            <ul>
              <li><b>featureLayers:</b> any geometry (must be the data you own and extract-enabled)</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>FindExistingLocations<div>[ <a href="../jsapi/findexistinglocations-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/find-existing-locations.htm">REST API</a> ]</div>(added at v3.12)</td>
          <td><div><img src="images/find-existing-locations.png"></div>Select features in the input layer that meet an attribute and/or spatial query you specify.</td>
          <td>
            <ul>
              <li><b>inputLayers:</b> any geometry</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>FindHotSpots<div>[ <a href="../jsapi/findhotspots-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/find-hot-spots.htm">REST API</a> ]</div>(added at v3.7)</td>
          <td><div><img src="images/find-hot-spots.png"></div>Find statistically signficant clusters of input features or high/low values.</td>
          <td>
            <ul>
              <li><b>analysisLayer:</b> point or polygon</li>
              <li><b>aggregationPolygonLayers:</b> polygon</li>
              <li><b>boundingPolygonLayers:</b> polygon</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>FindNearest<div>[ <a href="../jsapi/findnearest-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/find-nearest.htm">REST API</a> ]</div>(added at v3.7)</td>
          <td><div><img src="images/find-nearest.png"></div>For each feature on an input layer, find its closest feature on another layer.</td>
          <td>
            <ul>
              <li><b>analysisLayer:</b> any geometry</li>
              <li><b>nearLayer:</b> any geometry</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>FindSimilarLocations<div>[ <a href="../jsapi/findsimilarlocations-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/find-similar-locations.htm">REST API</a> ]</div>(added at v3.12)</td>
          <td><div><img src="images/find-similar-locations.png"></div>Measure the similarity of candidate locations to one or more reference locations.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> any geometry</li>
              <li><b>searchLayers:</b> any geometry</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>InterpolatePoints<div>[ <a href="../jsapi/interpolatepoints-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/interpolate-points.htm">REST API</a> ]</div>(added at v3.12)</td>
          <td><div><img src="images/interpolate-points.png"></div>Predict values at new locations based on measurements from a collection of points.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> point</li>
              <li><b>boundingPolygonLayers:</b> polygon</li>
              <li><b>predictAtPointLayers:</b> point</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>MergeLayers<div>[ <a href="../jsapi/mergelayers-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/merge-layers.htm">REST API</a> ]</div>(added at v3.7)</td>
          <td><div><img src="images/merge-layers.png"></div>Merge features from multiple layers into a new layer.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> any geometry (must be the same type as mergeLayers)</li>
              <li><b>margeLayers:</b> any geometry (must be the same type as inputLayer)</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>OverlayLayers<div>[ <a href="../jsapi/overlaylayers-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/overlay-layers.htm">REST API</a> ]</div>(added at v3.7)</td>
          <td><div><img src="images/overlay-layers.png"></div>Combine multiple layers into one single layer with information from the original layers preserved.</td>
          <td>
            <ul>
              <li><b>overlayLayer:</b> any geometry</li>
              <li><b>inputLayer:</b> any geometry</li>
            </ul>
            Allowed operations are <a href="../jsapi/overlaylayers-amd.html#overlaytype">limited by input geometry types</a>.
          </td>
        </tr>
        <tr>
          <td>PlanRoutes<div>[ <a href="../jsapi/planroutes-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/plan-routes.htm">REST API</a> ]</div>(added at v3.12)</td>
          <td><div><img src="images/plan-routes.png"></div>Determine how to efficiently divide tasks among a mobile workforce.</td>
          <td>
            <ul>
              <li><b>stopsLayer:</b> any geometry</li>
              <li><b>featureLayers:</b> any geometry</li>
              <li><b>distanceDefaultUnits:</b>"Miles" or "Kilometers"</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>SummarizeNearby<div>[ <a href="../jsapi/summarizenearby-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/summarize-nearby.htm">REST API</a> ]</div>(added at v3.7)</td>
          <td><div><img src="images/summarize-nearby.png"></div>For each feature on an input layer, summarize data within a distance from features on another layer.</td>
          <td>
            <ul>
              <li><b>sumNearbyLayer:</b> any geometry</li>
              <li><b>summaryLayers:</b> any geometry</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>SummarizeWithin<div>[ <a href="../jsapi/summarizewithin-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/summarize-within.htm">REST API</a> ]</div>(added at v3.7)</td>
          <td><div><img src="images/summarize-within.png"></div>For each polygon on an input polygon layer, summarize data located within it from features on another layer.</td>
          <td>
            <ul>
              <li><b>sumWithinLayer:</b> polygon</li>
              <li><b>summaryLayers:</b> any geometry</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>TraceDownstream<div>[ <a href="../jsapi/tracedownstream-amd.html">JavaScript API</a> | <a href="https://developers.arcgis.com/rest/analysis/api-reference/trace-downstream.htm">REST API</a> ]</div>(added at v3.12)</td>
          <td><div><img src="images/trace-downstream.png"></div>Determine the flow paths in a downstream direction from the locations you specify.</td>
          <td>
            <ul>
              <li><b>inputLayer:</b> any geometry</li>
            </ul>
          </td>
        </tr>
      </table>


      <br><br>
      <h3><b>What Do I Need to Run an Analysis Widget?</b></h3>
      <p>An <a href="http://www.arcgis.com/features/plans/pricing.html">ArcGIS.com subscription</a> is required. Not only will you need to store data using your ArcGIS.com account, but also sign-in is always required to run an analysis job as a credit-based service. Executing analysis tasks and hosting feature services are not available to personal account users. See <a href="http://www.arcgis.com/features/plans/pricing.html">ArcGIS.com - Plans</a> and <a href="https://developers.arcgis.com/en/plans/">ArcGIS for Developers - Plans</a> for more information.</p>
      
      <br><br>
      <h3><b>Making Your First Analysis Widget Application</b></h3>
        <p>In this section, we will build a sample that uses the <b>SummarizeNearby</b> widget to analyze the socioeconomic conditions near input locations, as the <a href="../jssamples/analysis_summarizenearby.html">Analysis - SummarizeNearby Sample</a> demonstrates. Before following these instructions, you should already know how to build a simple map and add feature layers to the map. If not, check out <a href="../jshelp/intro_firstmap_amd.html">Build your first application</a> and <a href="https://developers.arcgis.com/javascript/jssamples/#vector_feature_layers">Vector Feature Layer Samples</a>.
      <ol>
      
        <li><p><b>Choose a widget that fits your needs.</b> In this tutorial, we would like to analyze the median income near five proposed locations for a new retail store. <b>SummarizeNearby</b> is the widget best suited to complete this analysis.</p></li>
      
        <li><p><b>Configure the layout of your application.</b> We need to leave a room for the analysis widget to be added.</b> A recommended way is to use Dojo's <a href="http://livedocs.dojotoolkit.org/dijit/layout/BorderContainer">BorderContainer</a> and <a href="http://livedocs.dojotoolkit.org/dijit/layout/ContentPane">ContentPanes</a>. In the example below, we put two ContentPanes inside a BorderContainer. One ContentPane is anchored to the left to accomodate the widget, while the other is centered and will be used by the map. You may also use any other approach to layout your app.</p>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    ...
    &lt;style&gt;
      html, body, #border-container {
        height: 100%;
        margin: 0;
      }
    &lt;/style&gt;
    &lt;script src="//js.arcgis.com/3.14/"&gt;&lt;/script&gt;
    &lt;script&gt;
      require([
        "dijit/layout/BorderContainer", "dijit/layout/ContentPane", ...
      ], function(){
        ...
      };
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body class="claro"&gt;
    &lt;div id="border-container" data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="design:'headline',gutters:false"&gt;
      &lt;div id="map" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'center'" style="padding: 0;"&gt;&lt;/div&gt;
      &lt;div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'left'" style="width: 300px;"&gt;
        &lt;div id="toolPane"&gt;&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>
        </li>
        
        <li><p><b>Add the input feature layers to the map</b>. Each of the analysis widgets requires specific feature input layers and geometry types. Refer to the <b>Available Widgets</b> table above to see which layers are needed for each analysis widget.</p><p>Keep in mind that you should construct the widget after all the input layers are loaded. A recommended way to do so is to use the <b>map.addLayers()</b> method to add all layers at once, and then listen to the <b>map.on("layers-add-result")</b> event.</p></li>
        
        <pre class="prettyprint">var pointLayer = new FeatureLayer("http://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/New_Store_Location/FeatureServer/0");
var polygonLayer = new FeatureLayer("http://services.arcgisonline.com/ArcGIS/rest/services/Demographics/USA_Retail_Spending_Potential/MapServer/2", {
  opacity: 0.5
});
map.addLayers([polygonLayer, pointLayer]);
map.on("layers-add-result", function(){
  ...
});</pre>
        <li><p><b>Construct the widget</b>. Load the module at <code class="prettyprint">"esri/dijit/analysis/SummarizeNearby"</code>, construct the widget in the callback function of <b>map.on("layers-add-result")</b>, and place the widget at a DOM node (In this case, <code>&lt;div id="toolPane"&gt;&lt;/div&gt;</code>).</p></li>
        <pre class="prettyprint">var summarizeNearby;
map.on("layers-add-result", function(){
  summarizeNearby = new SummarizeNearby({
    ...
  }, "toolPane");
});</pre>
        <li>
          <p><b>Configure the widget</b>. As many other widgets, you can specify properties in the first parameter of the constructor. These properties are used to configure the widget when initialized.</p>
          <ul>
            <li><b>Input layer(s) (required)</b>: incorporate layers into the widget's user interface. Some properties accept one single layer, while some take an array of layers. Refer to the <b>Available Widgets</b> table above or the <b>API reference</b> to find the input layers a widget requires.</li>
            <li><b>portalUrl or analysisGpServer (required)</b>: connect to the geoprocessing server used to execute the analysis. <code>portalUrl</code> is recommended. You may set <code>portalUrl</code> as either <code>"http://www.arcgis.com"</code> or your organization's URL. The widget will figure out the path to its corresponding geoprocessing server. If you know which geoprocessing server you would like to use, specify <code>analysisGpServer</code> instead.</li>
            <li><b>map (required when use map extent is checked)</b>: connect to the map. This property is required when you would like to use the map extent to limit the area of the analysis.</li>
            <li><b>returnFeatureCollection (optional)</b>: when true, the analysis results are returned as a <b>feature collection</b> object. No hosted feature service will be created in your ArcGIS.com account; otherwise, the analysis results are always a hosted feature service in your account. Default value is <code>false</code>.</li>
            <li><b>outputLayerName (optional)</b>: set the default output layer name displayed in the widget.</li>
            <li><b>showChooseExtent, showSelectFolder, showCredits, showHelp (optional)</b>: show or hide a user interfact element as indicated below. <code>showSelectFolder</code> is <code>false</code> by default. The other three are <code>true</code> if not specified.</li>
            <img src="images/analysis-common-options.png" style="width: 600px;">
            <li><b>Other properties (optional)</b>: vary from widget to widget. Refer to the API reference for a complete list of available properties for each widget.</li>
          </ul>
        </li>
        <pre class="prettyprint">map.on("layers-add-result", function(){
  summarizeNearby = new SummarizeNearby({
    sumNearbyLayer: pointLayer,
    summaryLayers: [polygonLayer],
    portalUrl: "http://www.arcgis.com",
    map: map
  }, "toolPane");
});</pre>
        <li>
          <p><b>Listen to the .on("job-result") event and add results to the map</b>. This event fires when an analysis job is completed. It returns an object with a property named <b>value</b>, from which you can get the resulted data and add them to the map.</p>
          <ul>
            <li>When <b>returnFeatureCollection</b> is <code>false</code> or not set, <b>value</b> contains a <b>url</b> property. You can use this URL to create a feature layer.</li>
            <li>When <b>returnFeatureCollection</b> is <code>true</code>, <b>value</b> itself is a feature collection, which you can pass into the feature layer constructor.</li>
          </ul>
        </li>
        <pre class="prettyprint">summarizeNearby.on("job-result", parseResult);
...
function parseResult(result){
  var resultLayer = new FeatureLayer(result.value.url || result.value, {
    outFields: ['*'],
    infoTemplate: new InfoTemplate()
  });
  map.addLayer(resultLayer);
};</pre>
        <li>View your application from a browser to validate the user experience. You may check out the <a href="../jssamples/analysis_summarizenearby.html">Analysis - SummarizeNearby Sample</a> to see the final output. You may also use some other UI elements to improve user experience (such as showing a <code>ProgressBar</code> when the job is in process).</li>
      </ol>
      
      <br><br>
      <h3><b>What's next?</b></h3>
      <ul>
        <li>Check out the <a href="../jssamples/analysis_hotspot.html">Analysis - FindHotSpots</a> sample, which demonstrates a best practice to build an analysis app and use the results.</li>
        <li>Refer to the API reference to find more details about each widget.</li>
      </ul>
		</div>
<div id="wh_footer" class="footnote" align="center">
  <a href="mailto:js_feedback@esri.com?subject=Feedback on jshelp/intro_analysiswidgets.html">Report an error on this page</a>.
  <br>
  Copyright &copy; 2010-2015 Esri. All rights reserved. | <a href="http://www.esri.com/legal/privacy">Privacy</a> | <a href="http://www.esri.com/legal">Legal</a>
</div>
</div> <!-- sub 4:  main content for a page and feedback markup -->
  </div>
</div> <!-- end main content -->

<!-- TOC script -->
<script src="../scripts/tree.js"></script>

<script src="../prettify/prettify.js"></script>
<script>
  var dojoConfig = {
    async: true,
    packages: [{
      "name": "js",
      "location": location.pathname.replace(/\/[^/]+$/, "/") + "../scripts"
    }]
  };
</script>
<script src="../scripts/libs/tailcoat.js"></script>
<script src="//js.arcgis.com/3.14compact/"></script> <!-- add API version -->
<script src="../scripts/esri-main-concepts.js"></script>
<!-- Google Analytics -->
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-215788-63', 'arcgis.com');
ga('send', 'pageview');</script>
<!-- End Google Analytics -->

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NJGGV5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJGGV5');</script>
<!-- End Google Tag Manager -->
 <!-- sub 5:  add google analytics -->
</body>
</html>